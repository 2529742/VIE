<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<html  
    version="XHTML+RDFa 1.0"
    xmlns="http://www.w3.org/1999/xhtml" 
    xml:lang="en">
    <head>
        <script type="text/javascript" src="../lib/jquery/1.6/jquery-1.6.1.min.js"></script>
        
        <script type="text/javascript" src="../lib/rdfquery/latest/jquery.rdfquery.debug.js"></script>
        <script type="text/javascript" src="../lib/underscoreJS/underscore.js"></script>        
        <script type="text/javascript" src="../lib/backboneJS/backbone.js"></script>
        
        <!-- vie.js itself -->
		<script type="text/javascript" src="../dist/vie-latest.debug.js"></script>
		
        <script type="text/javascript">
            $(function() {
                // load the lib
                var v = new VIE({defaultNamespace: 'http://schema.org/'});
                
                //set some namespaces
                v.namespaces.add("foaf", "http://xmlns.com/foaf/0.1/");
                v.namespaces.add("sw", "http://semanticweb.org/wiki/Category");
                v.namespaces.add("xsd", "http://www.w3.org/2001/XMLSchema#");
                
                //add types (if you do not want to use the provided types/attributes)
                var thing = v.types.addOrOverwrite("Thing");
                    
                var p1 = v.types.add("Person", [
                    {
                     id : "name",
                     range : "xsd:string"
                    }
                ]).inherit(thing);
                
                var p2 = v.types.add("foaf:Person", [
                    {
                     id : "name",
                     range : "xsd:string"
                    }
                ]).inherit(thing);
                var p3 = v.types.add("sw:Person", [
                    {
                     id : "<http://xmlns.com/foaf/0.1/name>",
                     range : "xsd:string"
                    }
                ]).inherit(thing);
                
                
                // create a new person
                var person = v.entities.addOrUpdate({
                    '@subject' : '<http://example.org/Barack_Obama1>',
                    '@type'    : 'Person',      //this actually means: '<' + v.namespaces.get("default") + Person + '>'
                    'name'     : 'Barack Obama' //this actually means: '<' + v.namespaces.get("default") + name + '>'
                });
                
                var x = person.as("JSON");
                var y = person.as("JSONLD");
                
                var personIsAThing = person.isof(thing); // should be true
                var personIsAPerson1 = person.isof(p1); // should be true
                var personName1 = person.get("name");
                var personName2 = person.get('<' + v.namespaces.get("default") + "name" + '>');
                
                var foafPerson = v.entities.addOrUpdate({
                    '@subject' : '<http://example.org/Barack_Obama2>',
                    '@type'    : 'foaf:Person', //this actually means: '<' + v.namespaces.get("foaf") + Person + '>'
                    'name'     : 'Barack Obama' //this actually means: '<' + v.namespaces.get("foaf") + Person + '>'
                });
                
                var foafPersonIsAThing = foafPerson.isof(thing); // should be true
                var foafPersonIsAPerson1 = foafPerson.isof(p2); // should be true
                var foafPersonName1 = foafPerson.get("name");
                var foafPersonName2 = foafPerson.get('foaf:name');
                var foafPersonName3 = foafPerson.get('<' + v.namespaces.get("foaf") + "name" + '>');
                
                var weirdPerson = v.entities.addOrUpdate({
                    '@subject' : '<http://example.org/Barack_Obama3>',
                    '@type'    : 'sw:Person', //this actually means: '<' + v.namespaces.get("sw") + Person + '>'
                    'foaf:name': 'Barack Obama' //this actually means: '<' + v.namespaces.get("foaf") + Person + '>'
                });
                
                var weirdPersonIsAThing = weirdPerson.isof(thing); // should be true
                var weirdPersonIsAPerson1 = weirdPerson.isof(p3); // should be true
                var weirdPersonName1 = weirdPerson.get("name"); // TODO ???
                var weirdPersonName2 = weirdPerson.get('foaf:name');
                var weirdPersonName3 = weirdPerson.get('<' + v.namespaces.get("foaf") + "name" + '>');
               
                debugger;
            });
        </script>
        
    </head>
    <body>
    </body>
</html>

