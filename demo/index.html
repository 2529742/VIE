<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<html  
    version="XHTML+RDFa 1.0"
    xmlns="http://www.w3.org/1999/xhtml" 
    xml:lang="en">
    <head>
        <script type="text/javascript" src="../lib/jquery/1.6/jquery-1.6.1.min.js"></script>
        <link rel="stylesheet" href="qunit.css" type="text/css" media="screen" />
        <script type="text/javascript" src="qunit.js"></script>

        <script type="text/javascript" src="../lib/rdfquery/latest/jquery.rdfquery.debug.js"></script>
        <script type="text/javascript" src="../lib/underscoreJS/underscore.js"></script>        
        <script type="text/javascript" src="../lib/backboneJS/backbone.js"></script>
        
        <!-- zart.js itself -->
		<script type="text/javascript" src="../dist/zart-latest.debug.js"></script>
		
        <script type="text/javascript">
            $(function() {
                debugger;
                // load the lib
                var v = new Zart({defaultNamespace: 'http://schema.org/'});
                
                
                //set some namespaces
                v.namespaces.add("foaf", "http://xmlns.com/foaf/0.1/");
                v.namespaces.add("sw", "http://semanticweb.org/wiki/Category");
                v.namespaces.add("xsd", "http://www.w3.org/2001/XMLSchema#");
                
                //add types (if you do not want to use the provided types/attributes
                var thing = v.types.add("Thing");
                    
                var p1 = v.types.add("Person", [
                    {
                     id : "name",
                     range : "xsd:string"
                    }
                ]).inherit(thing);
                
                var p2 = v.types.add("foaf:Person", [
                    {
                     id : "name",
                     range : "xsd:string"
                    }
                ]).inherit(thing);
                
                var p3 = v.types.add("sw:Person", [
                    {
                     id : "foaf:name",
                     range : "xsd:string"
                    }
                ]).inherit(thing);
                
                
                // create a new person
                var person = v.entities.addOrUpdate({
                    '@subject' : '<http://example.org/Barack_Obama1>',
                    '@type'    : 'Person',      //this actually means: '<' + z.namespaces.get("default") + Person + '>'
                    'name'     : 'Barack Obama' //this actually means: '<' + z.namespaces.get("default") + name + '>'
                });
                
                var personType = person.getType();
                
                var personIsAThing = person.getType().isof(thing); // should be true
                var personIsAPerson1 = person.getType().isof(p1); // should be true
                
                var foafPerson = v.entities.addOrUpdate({
                    '@subject' : '<http://example.org/Barack_Obama2>',
                    '@type'    : 'foaf:Person', //this actually means: '<' + z.namespaces.get("foaf") + Person + '>'
                    'name'     : 'Barack Obama' //this actually means: '<' + z.namespaces.get("foaf") + Person + '>'
                });
                
                var weirdPerson = v.entities.addOrUpdate({
                    '@subject' : '<http://example.org/Barack_Obama3>',
                    '@type'    : 'sw:Person', //this actually means: '<' + z.namespaces.get("sw") + Person + '>'
                    'foaf:name'     : 'Barack Obama' //this actually means: '<' + z.namespaces.get("foaf") + Person + '>'
                });
                debugger;
            });
        </script>
        
    </head>
    <body>
    </body>
</html>

